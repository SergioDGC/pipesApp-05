<section class="mx-5 mt-5 mb-5">
  <h1 class="text-2xl font-bold">Custom pipes</h1>
  <h3 class="text-xl font-thin">Pipes not included in angular</h3>
</section>

<div class="stats shadow">
  <div class="stat">
    <div class="stat-title">Toggle Case Pipe</div>
    <div class="stat-value">{{name()|toggleCase: upperCase()}}</div>
    <div class="stat-desc">{{name()}}</div>
    <button (click)="upperCase.set(!upperCase())" class="btn btn-secondary">Toogle</button>
  </div>
</div>

<div class=" divider"></div>

<section class="my-4">
  <h1 class="text-2xl font-bold">Custom Pipes in action</h1>
    <h1 class="text-xl font-bold">Order by: {{sortBy()}}</h1>
  <div class="flex gap-2 justify-end w-full">

    <input
        type="text"
        class=" mt-2 input inpu-bordered w-full max-w-xs"
        placeholder="Search hero"
        (input)="searchQuery.set(txtSearch.value)"
        #txtSearch
    >

    <div class="flex flex-1"></div>

    <button (click)="sortBy.set('name')" class="btn btn-outline btn-secondary">By name</button>
    <button (click)="sortBy.set('canFly')"  class="btn btn-outline btn-accent">Allow to fly</button>
    <button (click)="sortBy.set('color')"  class="btn btn-outline btn-success">By color</button>
    <button (click)="sortBy.set('creator')"  class="btn btn-outline btn-warning">By creator</button>

  </div>
</section>

<div class="overflow-x-auto rounded-box border border-base-content/5 bg-base-100 w-full">
  <table class="table  w-full">
    <!-- head -->
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Allow to fly</th>
        <th>Color</th>
        <th>Creator</th>
      </tr>
    </thead>
    <tbody>
      <!-- row 1 -->
        @for (hero of heroes() | heroFilter: searchQuery() | heroSortBy:sortBy()  ; track hero.id; let i = $index) {

          <tr>
            <td>{{ i + 1}}</td>
            <td>{{hero.name}}</td>
            <span class="text-xs w-44" [class.text-success] ="hero.canFly" [class.text-secondary]= "!hero.canFly">
              <td>{{hero.canFly | canFly}}</td>
            </span>

            <td>
              <span class="text-xs w-44"
                [style.color]="hero.color | heroTextColor"
              >
                {{hero.color | heroColor | titlecase}}
              </span>
            </td>
            <td>
              <span class="text-xs w-44"  [class.text-primary] ="hero.creator" [class.text-secondary]= "!hero.creator">
                {{hero.creator | heroCreator}}
              </span>
            </td>
          </tr>

        }

    </tbody>
  </table>
</div>
